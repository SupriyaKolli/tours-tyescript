{"version":3,"file":"hook.js","sourceRoot":"","sources":["hook.ts"],"names":[],"mappings":";;;AAAA,iDAAwE;AACxE,2DAAwD;AACxD,sDAAoD;AAIpD,IAAA,oBAAS,EAAC,KAAK,IAAI,EAAE;IACjB,cAAM,GAAG,MAAM,IAAI,4BAAO,EAAE;SACvB,UAAU,CAAC,QAAQ,CAAC;SACpB,gBAAgB,CACb,IAAI,gBAAO,EAAE;IACzB,8BAA8B;IAC9B,2DAA2D;KAClD;SACA,KAAK,EAAE,CAAC;IACb,OAAO,cAAM,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,uCAAuC;AAEvC,IAAA,gBAAK,EAAC,KAAK,WAAW,QAAQ;IAC1B,IAAI,QAAQ,CAAC,MAAM,EAAE,MAAM,KAAK,iBAAM,CAAC,MAAM,EAAE,CAAC;QAC5C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,GAAG,GAAG,MAAM,cAAM,CAAC,cAAc,EAAE,CAAC,CAAC,uCAAuC;QAClF,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAChD,OAAO,MAAM,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAC7C,CAAC;AACL,CAAC,CAAC,CAAA","sourcesContent":["import { After, AfterAll, BeforeAll, Status } from '@cucumber/cucumber';\r\nimport { Builder, WebDriver } from 'selenium-webdriver';\r\nimport { Options } from 'selenium-webdriver/chrome';\r\n\r\nexport let driver: WebDriver;\r\n\r\nBeforeAll(async () => {\r\n    driver = await new Builder()\r\n        .forBrowser('chrome')\r\n        .setChromeOptions(\r\n            new Options()\r\n//                 .headless()\r\n//                 .windowSize({ width: 640, height: 480 })\r\n        )\r\n        .build();\r\n    return driver.manage().window().maximize();\r\n});\r\n\r\n// AfterAll(async () => driver.quit());\r\n\r\nAfter(async function (scenario) {\r\n    if (scenario.result?.status === Status.FAILED) {\r\n        const attach = this.attach;\r\n        const png = await driver.takeScreenshot(); /// Result is base64-encoded PNG image.\r\n        const decodedImage = Buffer.from(png, \"base64\");\r\n        return attach(decodedImage, \"image/png\");\r\n    }\r\n})"]}